<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IdeiaHub</title>
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script>
    // Aplicar tema salvo antes de renderizar
    (function() {
      const t = localStorage.getItem('ideiahub.theme') || 'dark';
      document.documentElement.setAttribute('data-theme', t);
    })();
  </script>
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="title">
          <strong>IdeiaHub</strong>
          <span>Estruture e evolua ideias</span>
        </div>
      </div>

      <nav class="nav">
        <button class="nav-btn" id="btnNew">
          <i data-feather="plus" class="icon"></i>
          Novo Projeto
        </button>
        <button class="nav-btn" id="btnProjects">
          <i data-feather="folder" class="icon"></i>
          Meus Projetos
        </button>
        <button class="nav-btn" id="btnValidate">
          <i data-feather="check-circle" class="icon"></i>
          Testar Hipótese
        </button>
        <button class="nav-btn" id="btnStairs">
          <i data-feather="external-link" class="icon"></i>
          Ir para o Stairs
        </button>
      </nav>

      <div class="sidebar-footer">
        <small style="color:var(--muted)">Local • IndexedDB</small>
        <small style="color:var(--muted)">v1.0</small>
      </div>
    </aside>

    <!-- Topbar -->
    <header class="topbar">
      <div class="project-title">
        <input class="project-name" id="projectName" value="Projeto sem título" aria-label="Nome do projeto" />
        <span class="status-chip" id="statusChip">pronto</span>
      </div>
      <div class="topbar-actions">
        <div class="selectors">
          <label class="sr-only" for="frameworkSelect">Frameworks</label>
          <select id="frameworkSelect" class="select" title="Frameworks">
            <option value="">Selecione um Framework</option>
          </select>

          <label class="sr-only" for="templateSelect">Modelos</label>
          <select id="templateSelect" class="select" title="Modelos">
            <option value="">Selecione um Modelo</option>
          </select>
        </div>

        <button class="btn" id="btnSave"><i data-feather="save" class="icon"></i>Salvar</button>
        <button class="btn" id="btnReload"><i data-feather="rotate-ccw" class="icon"></i>Reeditar</button>
        <button class="btn danger" id="btnDelete"><i data-feather="trash-2" class="icon"></i>Excluir</button>
        <button class="btn primary" id="btnExportPdf"><i data-feather="file-text" class="icon"></i>Exportar PDF</button>

        <button class="theme-toggle" id="themeToggle" title="Alternar tema" aria-label="Alternar tema">
          <i data-feather="moon" class="icon"></i>
        </button>
      </div>
    </header>

    <!-- Main -->
    <main class="main">
      <section class="canvas" id="canvas">
        <div class="empty" id="emptyState">Selecione um framework ou modelo para começar.</div>
        <div class="blocks" id="blocks" hidden></div>
      </section>
    </main>
    <aside class="actions-right">
  <button class="btn" id="btnSave">Salvar</button>
  <button class="btn" id="btnReload">Reeditar</button>
  <button class="btn danger" id="btnDelete">Excluir</button>
  <button class="btn primary" id="btnExportPdf">Exportar PDF</button>
</aside>
  </div>

  <!-- Toasts -->
  <div class="toast" id="toast"></div>

  <!-- Modal base -->
  <div class="modal-backdrop" id="modalBackdrop">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-header">
        <div class="modal-title" id="modalTitle">Modal</div>
        <button class="btn" id="modalClose"><i data-feather="x" class="icon"></i>Fechar</button>
      </div>
      <div class="modal-body" id="modalBody"></div>
      <div class="modal-actions" id="modalActions"></div>
    </div>
  </div>

  <!-- Libs -->
  <script src="https://unpkg.com/feather-icons" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-YcsIPNR6DcnZ6G9vBvYqLZ5k6bK2zFf9Q1k1Q6m8t6pW2YkXn0Z0aHnQxD8Y5p0wAqz8W3c1u3n9G0t+9am9Vw==" crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>

  <!-- App -->
  <script src="db.js" defer></script>
  <script src="pdf.js" defer></script>
  <script src="script.js" defer></script>
</body>
</html>