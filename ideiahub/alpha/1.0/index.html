<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IdeiaHub</title>
  <link rel="icon" href="assets/icon-192.png" />
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#0f1115">
  <link rel="preconnect" href="https://unpkg.com" />
  <script defer src="https://unpkg.com/feather-icons"></script>
  <link rel="stylesheet" href="styles.css" />
</head>
<body data-theme="dark">
  <div class="app">
    <aside class="sidebar">
      <div class="brand" aria-label="IdeiaHub">
        <div class="logo" aria-hidden="true"></div>
        <div class="title">
          <strong>IdeiaHub</strong>
          <span>Estruture e evolua ideias</span>
        </div>
      </div>

      <div class="nav" role="navigation" aria-label="Menu lateral">
        <button class="nav-btn" id="newProjectBtn"><i data-feather="plus" class="icon"></i>Novo Projeto</button>
        <button class="nav-btn" id="myProjectsBtn"><i data-feather="folder" class="icon"></i>Meus Projetos</button>
        <button class="nav-btn" id="exportBtnSidebar"><i data-feather="download" class="icon"></i>Exportar</button>
        <button class="nav-btn" id="premiumBtnSidebar"><i data-feather="star" class="icon"></i>Premium <span class="premium-badge">Em breve</span></button>
      </div>

      <div class="nav-section-title">Ações</div>
      <div class="nav">
        <button class="nav-btn" id="deleteProjectBtn"><i data-feather="trash-2" class="icon"></i>Deletar Projeto</button>
        <button class="nav-btn disabled" title="Login em breve" disabled>
          <i data-feather="user" class="icon"></i>Login <span class="premium-badge">Em breve</span>
        </button>
      </div>

      <div class="sidebar-footer">
        <small style="color:var(--muted)">Local • IndexedDB</small>
        <small style="color:var(--muted)">v0.3 PWA</small>
      </div>
    </aside>

    <header class="topbar">
      <div class="project-title">
        <input class="project-name" id="projectName" value="Projeto sem título" aria-label="Nome do projeto" />
        <span class="status-chip" id="statusChip"><span class="status-dot"></span><span id="statusText">pronto</span></span>
      </div>
      <div class="topbar-actions">
        <button class="btn" id="saveBtn" title="Salvar (Ctrl/Cmd+S)"><i data-feather="save" class="icon"></i>Salvar</button>
        <button class="btn" id="resetTemplateBtn"><i data-feather="rotate-ccw" class="icon"></i>Reeditar</button>
        <button class="btn primary" id="exportPdfBtn" title="Exportar PDF (Ctrl/Cmd+P)"><i data-feather="file-text" class="icon"></i>Exportar PDF</button>
        <button class="btn" id="exportMdBtn"><i data-feather="file" class="icon"></i>Exportar MD</button>
        <button class="btn premium" id="testHypothesisBtn"><i data-feather="check-circle" class="icon"></i>Testar Hipótese</button>
        <button class="theme-toggle" id="themeToggle" title="Alternar tema"><i data-feather="moon" class="icon"></i></button>
      </div>
    </header>

    <main class="main">
      <div class="toolbar" role="region" aria-label="Ferramentas">
        <div class="selectors">
          <label class="sr-only" for="frameworkSelect">Framework</label>
          <select id="frameworkSelect" class="select" title="Frameworks" aria-label="Selecionar framework">
            <option value="">Selecione um Framework</option>
          </select>

          <label class="sr-only" for="templateSelect">Template</label>
          <select id="templateSelect" class="select" title="Templates" aria-label="Selecionar template">
            <option value="">Selecione um Template</option>
          </select>
        </div>
        <div class="toolbar-actions">
          <button class="btn" id="addBlockBtn" title="Novo Bloco (Ctrl/Cmd+B)"><i data-feather="square" class="icon"></i>Novo Bloco</button>
        </div>
        <div class="toolbar-actions">
          <button class="btn" id="exportBtn"><i data-feather="download" class="icon"></i>Exportar Projeto</button>
        </div>
      </div>

      <section class="canvas" id="canvas" aria-live="polite">
        <div class="empty" id="emptyState">Selecione um framework ou template para começar.</div>
        <div class="blocks" id="blocks" hidden></div>
      </section>
    </main>
  </div>

  <div class="toast" id="toast" aria-live="polite" aria-atomic="true"></div>

  <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
    <div class="modal" id="genericModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-header">
        <div class="modal-title" id="modalTitle">Modal</div>
        <button class="btn" id="modalClose" aria-label="Fechar modal"><i data-feather="x" class="icon"></i>Fechar</button>
      </div>
      <div class="modal-body" id="modalBody"></div>
      <div class="modal-actions" id="modalActions"></div>
    </div>
  </div>

  <script type="module">
    import { initApp } from './app.js';
    import { frameworks } from './frameworks.js';
    import { templates } from './templates.js';
    initApp({ frameworks, templates });
  </script>
</body>
</html>